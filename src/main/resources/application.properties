# ============================================================
# ===============   APPLICATION CONFIGURATION   ===============
# ============================================================

# Server Configuration
server.port=8080

# Base URLs
app.base-url=http://localhost:8080
app.homepage-url=http://localhost:8080/home
app.callback-url=${app.base-url}/sso/callback
app.logout-success-url=${app.base-url}/login


# ============================================================
# ===============   SSO CONFIG (NOW IN DATABASE)  =============
# ============================================================
# ?? SSO credentials are now configured via Admin Dashboard
# The values below are NO LONGER USED by the application
# They are kept here only for reference/backup purposes

# DEPRECATED - SSO config moved to database
# miniorange.client.id=PHenk6pi3ziNu93HCNjazODsm14gCdC4
# miniorange.client.secret=rUHETxbsj2znTIbbb0gj8jYcmXTtddJK
# miniorange.domain=https://csumairkhan.xecurify.com
# miniorange.authorization.endpoint=${miniorange.domain}/moas/idp/jwtsso/379422
# miniorange.redirect.uri=http://localhost:8080/sso/callback
# miniorange.certificate.path=classpath:miniorange_jwt.cer


# ============================================================
# ===============     DATABASE CONFIG (Postgres) ==============
# ============================================================

spring.datasource.url=jdbc:postgresql://localhost:5432/novatech_db
spring.datasource.username=postgres
spring.datasource.password=admin
spring.datasource.driver-class-name=org.postgresql.Driver

# Hibernate / JPA settings
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true


# ============================================================
# ===============        SPRING SECURITY       ================
# ============================================================

# Allow bean overriding (avoid duplicate encoder bean conflicts)
spring.main.allow-bean-definition-overriding=true


# ============================================================
# ===============         LOGGING SETTINGS       ==============
# ============================================================

logging.level.org.springframework.web=INFO
logging.level.com.novatech.service_app=DEBUG
logging.level.org.springframework.security=INFO

# Show detailed errors during development
server.error.include-message=always
server.error.include-stacktrace=always
server.error.include-binding-errors=always

# ============================================================
# ===============   DEBUG LOGGING SETTINGS     ==============
# ============================================================

# Set the default level for your app to DEBUG to see everything
logging.level.com.novatech.service_app=DEBUG

# --- OR, if you only want to see SSO logs ---

# Set specific levels just for the SAML flow
logging.level.com.novatech.service_app.controller.SSOController=DEBUG
logging.level.com.novatech.service_app.service.SamlService=DEBUG
logging.level.com.novatech.service_app.service.SSOService=DEBUG

# (Optional) See the underlying Spring Security logs
logging.level.org.springframework.security=DEBUG